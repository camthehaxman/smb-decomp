.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x8010F860

.global AmcEXIImm
AmcEXIImm:
/* 8010E0E8 0010A008  7C 08 02 A6 */	mflr r0
/* 8010E0EC 0010A00C  90 01 00 04 */	stw r0, 4(r1)
/* 8010E0F0 0010A010  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 8010E0F4 0010A014  BE A1 00 24 */	stmw r21, 0x24(r1)
/* 8010E0F8 0010A018  3B 83 00 00 */	addi r28, r3, 0
/* 8010E0FC 0010A01C  3B A4 00 00 */	addi r29, r4, 0
/* 8010E100 0010A020  3B C5 00 00 */	addi r30, r5, 0
/* 8010E104 0010A024  3A C6 00 00 */	addi r22, r6, 0
/* 8010E108 0010A028  3A A0 00 02 */	li r21, 2
/* 8010E10C 0010A02C  4B FB 7F B1 */	bl OSDisableInterrupts
/* 8010E110 0010A030  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E114 0010A034  3B E3 00 00 */	addi r31, r3, 0
/* 8010E118 0010A038  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8010E11C 0010A03C  38 64 00 0C */	addi r3, r4, 0xc
/* 8010E120 0010A040  54 00 07 BF */	clrlwi. r0, r0, 0x1e
/* 8010E124 0010A044  40 82 00 10 */	bne lbl_8010E134
/* 8010E128 0010A048  80 03 00 00 */	lwz r0, 0(r3)
/* 8010E12C 0010A04C  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 8010E130 0010A050  40 82 00 14 */	bne lbl_8010E144
lbl_8010E134:
/* 8010E134 0010A054  7F E3 FB 78 */	mr r3, r31
/* 8010E138 0010A058  4B FB 7F AD */	bl OSRestoreInterrupts
/* 8010E13C 0010A05C  38 60 00 00 */	li r3, 0
/* 8010E140 0010A060  48 00 01 D8 */	b lbl_8010E318
lbl_8010E144:
/* 8010E144 0010A064  92 C4 00 04 */	stw r22, 4(r4)
/* 8010E148 0010A068  80 6D 98 E8 */	lwz r3, exi@sda21(r13)
/* 8010E14C 0010A06C  80 03 00 04 */	lwz r0, 4(r3)
/* 8010E150 0010A070  28 00 00 00 */	cmplwi r0, 0
/* 8010E154 0010A074  41 82 00 20 */	beq lbl_8010E174
/* 8010E158 0010A078  38 60 00 00 */	li r3, 0
/* 8010E15C 0010A07C  38 80 00 01 */	li r4, 1
/* 8010E160 0010A080  48 00 03 65 */	bl AmcEXIClearInterrupts
/* 8010E164 0010A084  1C 15 00 03 */	mulli r0, r21, 3
/* 8010E168 0010A088  3C 60 00 20 */	lis r3, 0x20
/* 8010E16C 0010A08C  7C 63 04 30 */	srw r3, r3, r0
/* 8010E170 0010A090  4B FB 83 75 */	bl __OSUnmaskInterrupts
lbl_8010E174:
/* 8010E174 0010A094  80 6D 98 E8 */	lwz r3, exi@sda21(r13)
/* 8010E178 0010A098  28 1E 00 00 */	cmplwi r30, 0
/* 8010E17C 0010A09C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 8010E180 0010A0A0  60 00 00 02 */	ori r0, r0, 2
/* 8010E184 0010A0A4  90 03 00 0C */	stw r0, 0xc(r3)
/* 8010E188 0010A0A8  41 82 01 38 */	beq lbl_8010E2C0
/* 8010E18C 0010A0AC  39 80 00 00 */	li r12, 0
/* 8010E190 0010A0B0  7C 0C E8 00 */	cmpw r12, r29
/* 8010E194 0010A0B4  39 60 00 00 */	li r11, 0
/* 8010E198 0010A0B8  40 80 01 20 */	bge lbl_8010E2B8
/* 8010E19C 0010A0BC  2C 1D 00 08 */	cmpwi r29, 8
/* 8010E1A0 0010A0C0  38 7D FF F8 */	addi r3, r29, -8
/* 8010E1A4 0010A0C4  40 81 01 6C */	ble lbl_8010E310
/* 8010E1A8 0010A0C8  38 03 00 07 */	addi r0, r3, 7
/* 8010E1AC 0010A0CC  54 00 E8 FE */	srwi r0, r0, 3
/* 8010E1B0 0010A0D0  2C 03 00 00 */	cmpwi r3, 0
/* 8010E1B4 0010A0D4  7C 09 03 A6 */	mtctr r0
/* 8010E1B8 0010A0D8  39 5C 00 00 */	addi r10, r28, 0
/* 8010E1BC 0010A0DC  40 81 01 54 */	ble lbl_8010E310
lbl_8010E1C0:
/* 8010E1C0 0010A0E0  20 6C 00 03 */	subfic r3, r12, 3
/* 8010E1C4 0010A0E4  89 2A 00 00 */	lbz r9, 0(r10)
/* 8010E1C8 0010A0E8  38 0C 00 01 */	addi r0, r12, 1
/* 8010E1CC 0010A0EC  89 0A 00 01 */	lbz r8, 1(r10)
/* 8010E1D0 0010A0F0  54 67 18 38 */	slwi r7, r3, 3
/* 8010E1D4 0010A0F4  88 CA 00 02 */	lbz r6, 2(r10)
/* 8010E1D8 0010A0F8  20 A0 00 03 */	subfic r5, r0, 3
/* 8010E1DC 0010A0FC  88 8A 00 03 */	lbz r4, 3(r10)
/* 8010E1E0 0010A100  38 6C 00 02 */	addi r3, r12, 2
/* 8010E1E4 0010A104  88 0A 00 04 */	lbz r0, 4(r10)
/* 8010E1E8 0010A108  7D 29 38 30 */	slw r9, r9, r7
/* 8010E1EC 0010A10C  8A CA 00 05 */	lbz r22, 5(r10)
/* 8010E1F0 0010A110  54 A7 18 38 */	slwi r7, r5, 3
/* 8010E1F4 0010A114  8B 0A 00 06 */	lbz r24, 6(r10)
/* 8010E1F8 0010A118  20 63 00 03 */	subfic r3, r3, 3
/* 8010E1FC 0010A11C  8B 4A 00 07 */	lbz r26, 7(r10)
/* 8010E200 0010A120  54 65 18 38 */	slwi r5, r3, 3
/* 8010E204 0010A124  7C 6C 00 D0 */	neg r3, r12
/* 8010E208 0010A128  3A AC 00 04 */	addi r21, r12, 4
/* 8010E20C 0010A12C  54 63 18 38 */	slwi r3, r3, 3
/* 8010E210 0010A130  22 B5 00 03 */	subfic r21, r21, 3
/* 8010E214 0010A134  3A EC 00 05 */	addi r23, r12, 5
/* 8010E218 0010A138  56 B5 18 38 */	slwi r21, r21, 3
/* 8010E21C 0010A13C  22 F7 00 03 */	subfic r23, r23, 3
/* 8010E220 0010A140  3B 2C 00 06 */	addi r25, r12, 6
/* 8010E224 0010A144  56 F7 18 38 */	slwi r23, r23, 3
/* 8010E228 0010A148  23 39 00 03 */	subfic r25, r25, 3
/* 8010E22C 0010A14C  3B 6C 00 07 */	addi r27, r12, 7
/* 8010E230 0010A150  57 39 18 38 */	slwi r25, r25, 3
/* 8010E234 0010A154  23 7B 00 03 */	subfic r27, r27, 3
/* 8010E238 0010A158  57 7B 18 38 */	slwi r27, r27, 3
/* 8010E23C 0010A15C  7D 6B 4B 78 */	or r11, r11, r9
/* 8010E240 0010A160  7D 07 38 30 */	slw r7, r8, r7
/* 8010E244 0010A164  7D 6B 3B 78 */	or r11, r11, r7
/* 8010E248 0010A168  7C C5 28 30 */	slw r5, r6, r5
/* 8010E24C 0010A16C  7D 6B 2B 78 */	or r11, r11, r5
/* 8010E250 0010A170  7C 83 18 30 */	slw r3, r4, r3
/* 8010E254 0010A174  7D 6B 1B 78 */	or r11, r11, r3
/* 8010E258 0010A178  7C 00 A8 30 */	slw r0, r0, r21
/* 8010E25C 0010A17C  7D 6B 03 78 */	or r11, r11, r0
/* 8010E260 0010A180  7E C0 B8 30 */	slw r0, r22, r23
/* 8010E264 0010A184  7D 6B 03 78 */	or r11, r11, r0
/* 8010E268 0010A188  7F 00 C8 30 */	slw r0, r24, r25
/* 8010E26C 0010A18C  7D 6B 03 78 */	or r11, r11, r0
/* 8010E270 0010A190  7F 40 D8 30 */	slw r0, r26, r27
/* 8010E274 0010A194  7D 6B 03 78 */	or r11, r11, r0
/* 8010E278 0010A198  39 4A 00 08 */	addi r10, r10, 8
/* 8010E27C 0010A19C  39 8C 00 08 */	addi r12, r12, 8
/* 8010E280 0010A1A0  42 00 FF 40 */	bdnz lbl_8010E1C0
/* 8010E284 0010A1A4  48 00 00 8C */	b lbl_8010E310
lbl_8010E288:
/* 8010E288 0010A1A8  7C 0C E8 50 */	subf r0, r12, r29
/* 8010E28C 0010A1AC  7C 0C E8 00 */	cmpw r12, r29
/* 8010E290 0010A1B0  7C 09 03 A6 */	mtctr r0
/* 8010E294 0010A1B4  40 80 00 24 */	bge lbl_8010E2B8
lbl_8010E298:
/* 8010E298 0010A1B8  20 0C 00 03 */	subfic r0, r12, 3
/* 8010E29C 0010A1BC  88 64 00 00 */	lbz r3, 0(r4)
/* 8010E2A0 0010A1C0  54 00 18 38 */	slwi r0, r0, 3
/* 8010E2A4 0010A1C4  7C 60 00 30 */	slw r0, r3, r0
/* 8010E2A8 0010A1C8  7D 6B 03 78 */	or r11, r11, r0
/* 8010E2AC 0010A1CC  38 84 00 01 */	addi r4, r4, 1
/* 8010E2B0 0010A1D0  39 8C 00 01 */	addi r12, r12, 1
/* 8010E2B4 0010A1D4  42 00 FF E4 */	bdnz lbl_8010E298
lbl_8010E2B8:
/* 8010E2B8 0010A1D8  3C 60 CC 00 */	lis r3, 0xCC006838@ha
/* 8010E2BC 0010A1DC  91 63 68 38 */	stw r11, 0xCC006838@l(r3)
lbl_8010E2C0:
/* 8010E2C0 0010A1E0  80 6D 98 E8 */	lwz r3, exi@sda21(r13)
/* 8010E2C4 0010A1E4  28 1E 00 01 */	cmplwi r30, 1
/* 8010E2C8 0010A1E8  93 83 00 14 */	stw r28, 0x14(r3)
/* 8010E2CC 0010A1EC  41 82 00 0C */	beq lbl_8010E2D8
/* 8010E2D0 0010A1F0  7F A6 EB 78 */	mr r6, r29
/* 8010E2D4 0010A1F4  48 00 00 08 */	b lbl_8010E2DC
lbl_8010E2D8:
/* 8010E2D8 0010A1F8  38 C0 00 00 */	li r6, 0
lbl_8010E2DC:
/* 8010E2DC 0010A1FC  80 AD 98 E8 */	lwz r5, exi@sda21(r13)
/* 8010E2E0 0010A200  57 C4 10 3A */	slwi r4, r30, 2
/* 8010E2E4 0010A204  38 1D FF FF */	addi r0, r29, -1
/* 8010E2E8 0010A208  90 C5 00 10 */	stw r6, 0x10(r5)
/* 8010E2EC 0010A20C  60 84 00 01 */	ori r4, r4, 1
/* 8010E2F0 0010A210  54 00 20 36 */	slwi r0, r0, 4
/* 8010E2F4 0010A214  3C 60 CC 00 */	lis r3, 0xCC006834@ha
/* 8010E2F8 0010A218  7C 80 03 78 */	or r0, r4, r0
/* 8010E2FC 0010A21C  90 03 68 34 */	stw r0, 0xCC006834@l(r3)
/* 8010E300 0010A220  7F E3 FB 78 */	mr r3, r31
/* 8010E304 0010A224  4B FB 7D E1 */	bl OSRestoreInterrupts
/* 8010E308 0010A228  38 60 00 01 */	li r3, 1
/* 8010E30C 0010A22C  48 00 00 0C */	b lbl_8010E318
lbl_8010E310:
/* 8010E310 0010A230  7C 9C 62 14 */	add r4, r28, r12
/* 8010E314 0010A234  4B FF FF 74 */	b lbl_8010E288
lbl_8010E318:
/* 8010E318 0010A238  BA A1 00 24 */	lmw r21, 0x24(r1)
/* 8010E31C 0010A23C  80 01 00 54 */	lwz r0, 0x54(r1)
/* 8010E320 0010A240  38 21 00 50 */	addi r1, r1, 0x50
/* 8010E324 0010A244  7C 08 03 A6 */	mtlr r0
/* 8010E328 0010A248  4E 80 00 20 */	blr

.global AmcEXISync
AmcEXISync:
/* 8010E32C 0010A24C  7C 08 02 A6 */	mflr r0
/* 8010E330 0010A250  90 01 00 04 */	stw r0, 4(r1)
/* 8010E334 0010A254  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8010E338 0010A258  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8010E33C 0010A25C  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E340 0010A260  48 00 01 5C */	b lbl_8010E49C
lbl_8010E344:
/* 8010E344 0010A264  80 03 00 34 */	lwz r0, 0x34(r3)
/* 8010E348 0010A268  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8010E34C 0010A26C  40 82 01 58 */	bne lbl_8010E4A4
/* 8010E350 0010A270  4B FB 7D 6D */	bl OSDisableInterrupts
/* 8010E354 0010A274  80 CD 98 E8 */	lwz r6, exi@sda21(r13)
/* 8010E358 0010A278  80 06 00 0C */	lwz r0, 0xc(r6)
/* 8010E35C 0010A27C  38 86 00 0C */	addi r4, r6, 0xc
/* 8010E360 0010A280  54 00 07 BF */	clrlwi. r0, r0, 0x1e
/* 8010E364 0010A284  41 82 01 30 */	beq lbl_8010E494
/* 8010E368 0010A288  80 04 00 00 */	lwz r0, 0(r4)
/* 8010E36C 0010A28C  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 8010E370 0010A290  41 82 01 14 */	beq lbl_8010E484
/* 8010E374 0010A294  80 86 00 10 */	lwz r4, 0x10(r6)
/* 8010E378 0010A298  2C 04 00 00 */	cmpwi r4, 0
/* 8010E37C 0010A29C  41 82 01 08 */	beq lbl_8010E484
/* 8010E380 0010A2A0  3C A0 CC 00 */	lis r5, 0xCC006838@ha
/* 8010E384 0010A2A4  80 E6 00 14 */	lwz r7, 0x14(r6)
/* 8010E388 0010A2A8  80 C5 68 38 */	lwz r6, 0xCC006838@l(r5)
/* 8010E38C 0010A2AC  38 A0 00 00 */	li r5, 0
/* 8010E390 0010A2B0  40 81 00 F4 */	ble lbl_8010E484
/* 8010E394 0010A2B4  2C 04 00 08 */	cmpwi r4, 8
/* 8010E398 0010A2B8  39 04 FF F8 */	addi r8, r4, -8
/* 8010E39C 0010A2BC  40 81 00 BC */	ble lbl_8010E458
/* 8010E3A0 0010A2C0  38 08 00 07 */	addi r0, r8, 7
/* 8010E3A4 0010A2C4  54 00 E8 FE */	srwi r0, r0, 3
/* 8010E3A8 0010A2C8  2C 08 00 00 */	cmpwi r8, 0
/* 8010E3AC 0010A2CC  7C 09 03 A6 */	mtctr r0
/* 8010E3B0 0010A2D0  40 81 00 A8 */	ble lbl_8010E458
lbl_8010E3B4:
/* 8010E3B4 0010A2D4  20 05 00 03 */	subfic r0, r5, 3
/* 8010E3B8 0010A2D8  54 08 18 38 */	slwi r8, r0, 3
/* 8010E3BC 0010A2DC  38 05 00 01 */	addi r0, r5, 1
/* 8010E3C0 0010A2E0  7C C8 44 30 */	srw r8, r6, r8
/* 8010E3C4 0010A2E4  20 00 00 03 */	subfic r0, r0, 3
/* 8010E3C8 0010A2E8  99 07 00 00 */	stb r8, 0(r7)
/* 8010E3CC 0010A2EC  54 00 18 38 */	slwi r0, r0, 3
/* 8010E3D0 0010A2F0  39 05 00 02 */	addi r8, r5, 2
/* 8010E3D4 0010A2F4  7C C0 04 30 */	srw r0, r6, r0
/* 8010E3D8 0010A2F8  21 08 00 03 */	subfic r8, r8, 3
/* 8010E3DC 0010A2FC  98 07 00 01 */	stb r0, 1(r7)
/* 8010E3E0 0010A300  55 08 18 38 */	slwi r8, r8, 3
/* 8010E3E4 0010A304  7C DF 44 30 */	srw r31, r6, r8
/* 8010E3E8 0010A308  7D 05 00 D0 */	neg r8, r5
/* 8010E3EC 0010A30C  9B E7 00 02 */	stb r31, 2(r7)
/* 8010E3F0 0010A310  55 09 18 38 */	slwi r9, r8, 3
/* 8010E3F4 0010A314  39 05 00 04 */	addi r8, r5, 4
/* 8010E3F8 0010A318  7C CC 4C 30 */	srw r12, r6, r9
/* 8010E3FC 0010A31C  21 08 00 03 */	subfic r8, r8, 3
/* 8010E400 0010A320  99 87 00 03 */	stb r12, 3(r7)
/* 8010E404 0010A324  55 09 18 38 */	slwi r9, r8, 3
/* 8010E408 0010A328  39 05 00 05 */	addi r8, r5, 5
/* 8010E40C 0010A32C  7C CB 4C 30 */	srw r11, r6, r9
/* 8010E410 0010A330  21 08 00 03 */	subfic r8, r8, 3
/* 8010E414 0010A334  99 67 00 04 */	stb r11, 4(r7)
/* 8010E418 0010A338  55 09 18 38 */	slwi r9, r8, 3
/* 8010E41C 0010A33C  7C CA 4C 30 */	srw r10, r6, r9
/* 8010E420 0010A340  39 05 00 06 */	addi r8, r5, 6
/* 8010E424 0010A344  99 47 00 05 */	stb r10, 5(r7)
/* 8010E428 0010A348  21 28 00 03 */	subfic r9, r8, 3
/* 8010E42C 0010A34C  39 05 00 07 */	addi r8, r5, 7
/* 8010E430 0010A350  55 29 18 38 */	slwi r9, r9, 3
/* 8010E434 0010A354  7C C9 4C 30 */	srw r9, r6, r9
/* 8010E438 0010A358  21 08 00 03 */	subfic r8, r8, 3
/* 8010E43C 0010A35C  99 27 00 06 */	stb r9, 6(r7)
/* 8010E440 0010A360  55 08 18 38 */	slwi r8, r8, 3
/* 8010E444 0010A364  7C C8 44 30 */	srw r8, r6, r8
/* 8010E448 0010A368  99 07 00 07 */	stb r8, 7(r7)
/* 8010E44C 0010A36C  38 E7 00 08 */	addi r7, r7, 8
/* 8010E450 0010A370  38 A5 00 08 */	addi r5, r5, 8
/* 8010E454 0010A374  42 00 FF 60 */	bdnz lbl_8010E3B4
lbl_8010E458:
/* 8010E458 0010A378  7C 05 20 50 */	subf r0, r5, r4
/* 8010E45C 0010A37C  7C 05 20 00 */	cmpw r5, r4
/* 8010E460 0010A380  7C 09 03 A6 */	mtctr r0
/* 8010E464 0010A384  40 80 00 20 */	bge lbl_8010E484
lbl_8010E468:
/* 8010E468 0010A388  20 05 00 03 */	subfic r0, r5, 3
/* 8010E46C 0010A38C  54 00 18 38 */	slwi r0, r0, 3
/* 8010E470 0010A390  7C C0 04 30 */	srw r0, r6, r0
/* 8010E474 0010A394  98 07 00 00 */	stb r0, 0(r7)
/* 8010E478 0010A398  38 E7 00 01 */	addi r7, r7, 1
/* 8010E47C 0010A39C  38 A5 00 01 */	addi r5, r5, 1
/* 8010E480 0010A3A0  42 00 FF E8 */	bdnz lbl_8010E468
lbl_8010E484:
/* 8010E484 0010A3A4  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E488 0010A3A8  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8010E48C 0010A3AC  54 00 00 3A */	rlwinm r0, r0, 0, 0, 0x1d
/* 8010E490 0010A3B0  90 04 00 0C */	stw r0, 0xc(r4)
lbl_8010E494:
/* 8010E494 0010A3B4  4B FB 7C 51 */	bl OSRestoreInterrupts
/* 8010E498 0010A3B8  48 00 00 18 */	b lbl_8010E4B0
lbl_8010E49C:
/* 8010E49C 0010A3BC  3C 60 CC 00 */	lis r3, 0xCC006800@ha
/* 8010E4A0 0010A3C0  38 63 68 00 */	addi r3, r3, 0xCC006800@l
lbl_8010E4A4:
/* 8010E4A4 0010A3C4  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8010E4A8 0010A3C8  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 8010E4AC 0010A3CC  40 82 FE 98 */	bne lbl_8010E344
lbl_8010E4B0:
/* 8010E4B0 0010A3D0  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8010E4B4 0010A3D4  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8010E4B8 0010A3D8  38 21 00 18 */	addi r1, r1, 0x18
/* 8010E4BC 0010A3DC  7C 08 03 A6 */	mtlr r0
/* 8010E4C0 0010A3E0  4E 80 00 20 */	blr

.global AmcEXIClearInterrupts
AmcEXIClearInterrupts:
/* 8010E4C4 0010A3E4  2C 03 00 00 */	cmpwi r3, 0
/* 8010E4C8 0010A3E8  41 82 00 18 */	beq lbl_8010E4E0
/* 8010E4CC 0010A3EC  3C 60 CC 00 */	lis r3, 0xCC003000@ha
/* 8010E4D0 0010A3F0  80 03 30 00 */	lwz r0, 0xCC003000@l(r3)
/* 8010E4D4 0010A3F4  54 00 04 E6 */	rlwinm r0, r0, 0, 0x13, 0x13
/* 8010E4D8 0010A3F8  60 00 10 00 */	ori r0, r0, 0x1000
/* 8010E4DC 0010A3FC  90 03 30 00 */	stw r0, 0x3000(r3)
lbl_8010E4E0:
/* 8010E4E0 0010A400  2C 04 00 00 */	cmpwi r4, 0
/* 8010E4E4 0010A404  4D 82 00 20 */	beqlr
/* 8010E4E8 0010A408  3C 60 CC 00 */	lis r3, 0xCC006800@ha
/* 8010E4EC 0010A40C  38 63 68 00 */	addi r3, r3, 0xCC006800@l
/* 8010E4F0 0010A410  80 03 00 28 */	lwz r0, 0x28(r3)
/* 8010E4F4 0010A414  70 00 07 F5 */	andi. r0, r0, 0x7f5
/* 8010E4F8 0010A418  60 00 00 08 */	ori r0, r0, 8
/* 8010E4FC 0010A41C  90 03 00 28 */	stw r0, 0x28(r3)
/* 8010E500 0010A420  4E 80 00 20 */	blr

.global AmcEXISetExiCallback
AmcEXISetExiCallback:
/* 8010E504 0010A424  7C 08 02 A6 */	mflr r0
/* 8010E508 0010A428  90 01 00 04 */	stw r0, 4(r1)
/* 8010E50C 0010A42C  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8010E510 0010A430  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8010E514 0010A434  93 C1 00 10 */	stw r30, 0x10(r1)
/* 8010E518 0010A438  7C 7E 1B 78 */	mr r30, r3
/* 8010E51C 0010A43C  4B FB 7B A1 */	bl OSDisableInterrupts
/* 8010E520 0010A440  28 1E 00 00 */	cmplwi r30, 0
/* 8010E524 0010A444  3B E3 00 00 */	addi r31, r3, 0
/* 8010E528 0010A448  41 82 00 10 */	beq lbl_8010E538
/* 8010E52C 0010A44C  38 60 00 40 */	li r3, 0x40
/* 8010E530 0010A450  4B FB 7F B5 */	bl __OSUnmaskInterrupts
/* 8010E534 0010A454  48 00 00 0C */	b lbl_8010E540
lbl_8010E538:
/* 8010E538 0010A458  38 60 00 40 */	li r3, 0x40
/* 8010E53C 0010A45C  4B FB 7F 21 */	bl __OSMaskInterrupts
lbl_8010E540:
/* 8010E540 0010A460  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E544 0010A464  7F E3 FB 78 */	mr r3, r31
/* 8010E548 0010A468  83 E4 00 00 */	lwz r31, 0(r4)
/* 8010E54C 0010A46C  93 C4 00 00 */	stw r30, 0(r4)
/* 8010E550 0010A470  4B FB 7B 95 */	bl OSRestoreInterrupts
/* 8010E554 0010A474  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8010E558 0010A478  7F E3 FB 78 */	mr r3, r31
/* 8010E55C 0010A47C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8010E560 0010A480  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 8010E564 0010A484  7C 08 03 A6 */	mtlr r0
/* 8010E568 0010A488  38 21 00 18 */	addi r1, r1, 0x18
/* 8010E56C 0010A48C  4E 80 00 20 */	blr

.global AmcEXISelect
AmcEXISelect:
/* 8010E570 0010A490  7C 08 02 A6 */	mflr r0
/* 8010E574 0010A494  90 01 00 04 */	stw r0, 4(r1)
/* 8010E578 0010A498  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8010E57C 0010A49C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8010E580 0010A4A0  7C 7F 1B 78 */	mr r31, r3
/* 8010E584 0010A4A4  4B FB 7B 39 */	bl OSDisableInterrupts
/* 8010E588 0010A4A8  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E58C 0010A4AC  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8010E590 0010A4B0  38 A4 00 0C */	addi r5, r4, 0xc
/* 8010E594 0010A4B4  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 8010E598 0010A4B8  41 82 00 10 */	beq lbl_8010E5A8
/* 8010E59C 0010A4BC  4B FB 7B 49 */	bl OSRestoreInterrupts
/* 8010E5A0 0010A4C0  38 60 00 00 */	li r3, 0
/* 8010E5A4 0010A4C4  48 00 00 38 */	b lbl_8010E5DC
lbl_8010E5A8:
/* 8010E5A8 0010A4C8  80 05 00 00 */	lwz r0, 0(r5)
/* 8010E5AC 0010A4CC  3C 80 CC 00 */	lis r4, 0xCC006800@ha
/* 8010E5B0 0010A4D0  38 84 68 00 */	addi r4, r4, 0xCC006800@l
/* 8010E5B4 0010A4D4  60 00 00 04 */	ori r0, r0, 4
/* 8010E5B8 0010A4D8  90 05 00 00 */	stw r0, 0(r5)
/* 8010E5BC 0010A4DC  57 E0 20 36 */	slwi r0, r31, 4
/* 8010E5C0 0010A4E0  60 00 00 80 */	ori r0, r0, 0x80
/* 8010E5C4 0010A4E4  80 A4 00 28 */	lwz r5, 0x28(r4)
/* 8010E5C8 0010A4E8  70 A5 04 05 */	andi. r5, r5, 0x405
/* 8010E5CC 0010A4EC  7C A5 03 78 */	or r5, r5, r0
/* 8010E5D0 0010A4F0  90 A4 00 28 */	stw r5, 0x28(r4)
/* 8010E5D4 0010A4F4  4B FB 7B 11 */	bl OSRestoreInterrupts
/* 8010E5D8 0010A4F8  38 60 00 01 */	li r3, 1
lbl_8010E5DC:
/* 8010E5DC 0010A4FC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8010E5E0 0010A500  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8010E5E4 0010A504  38 21 00 18 */	addi r1, r1, 0x18
/* 8010E5E8 0010A508  7C 08 03 A6 */	mtlr r0
/* 8010E5EC 0010A50C  4E 80 00 20 */	blr

.global AmcEXIDeselect
AmcEXIDeselect:
/* 8010E5F0 0010A510  7C 08 02 A6 */	mflr r0
/* 8010E5F4 0010A514  90 01 00 04 */	stw r0, 4(r1)
/* 8010E5F8 0010A518  94 21 FF F8 */	stwu r1, -8(r1)
/* 8010E5FC 0010A51C  4B FB 7A C1 */	bl OSDisableInterrupts
/* 8010E600 0010A520  80 8D 98 E8 */	lwz r4, exi@sda21(r13)
/* 8010E604 0010A524  80 04 00 0C */	lwz r0, 0xc(r4)
/* 8010E608 0010A528  38 A4 00 0C */	addi r5, r4, 0xc
/* 8010E60C 0010A52C  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 8010E610 0010A530  40 82 00 10 */	bne lbl_8010E620
/* 8010E614 0010A534  4B FB 7A D1 */	bl OSRestoreInterrupts
/* 8010E618 0010A538  38 60 00 00 */	li r3, 0
/* 8010E61C 0010A53C  48 00 00 2C */	b lbl_8010E648
lbl_8010E620:
/* 8010E620 0010A540  80 05 00 00 */	lwz r0, 0(r5)
/* 8010E624 0010A544  3C 80 CC 00 */	lis r4, 0xCC006800@ha
/* 8010E628 0010A548  38 84 68 00 */	addi r4, r4, 0xCC006800@l
/* 8010E62C 0010A54C  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 8010E630 0010A550  90 05 00 00 */	stw r0, 0(r5)
/* 8010E634 0010A554  80 04 00 28 */	lwz r0, 0x28(r4)
/* 8010E638 0010A558  70 00 04 05 */	andi. r0, r0, 0x405
/* 8010E63C 0010A55C  90 04 00 28 */	stw r0, 0x28(r4)
/* 8010E640 0010A560  4B FB 7A A5 */	bl OSRestoreInterrupts
/* 8010E644 0010A564  38 60 00 01 */	li r3, 1
lbl_8010E648:
/* 8010E648 0010A568  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8010E64C 0010A56C  38 21 00 08 */	addi r1, r1, 8
/* 8010E650 0010A570  7C 08 03 A6 */	mtlr r0
/* 8010E654 0010A574  4E 80 00 20 */	blr

.global AmcDebugIntHandler
AmcDebugIntHandler:
/* 8010E658 0010A578  7C 08 02 A6 */	mflr r0
/* 8010E65C 0010A57C  3C A0 CC 00 */	lis r5, 0xCC003000@ha
/* 8010E660 0010A580  90 01 00 04 */	stw r0, 4(r1)
/* 8010E664 0010A584  80 05 30 00 */	lwz r0, 0xCC003000@l(r5)
/* 8010E668 0010A588  94 21 FF F8 */	stwu r1, -8(r1)
/* 8010E66C 0010A58C  54 00 04 E6 */	rlwinm r0, r0, 0, 0x13, 0x13
/* 8010E670 0010A590  80 6D 98 E8 */	lwz r3, exi@sda21(r13)
/* 8010E674 0010A594  60 00 10 00 */	ori r0, r0, 0x1000
/* 8010E678 0010A598  90 05 30 00 */	stw r0, 0x3000(r5)
/* 8010E67C 0010A59C  80 63 00 00 */	lwz r3, 0(r3)
/* 8010E680 0010A5A0  28 03 00 00 */	cmplwi r3, 0
/* 8010E684 0010A5A4  7C 6C 1B 78 */	mr r12, r3
/* 8010E688 0010A5A8  41 82 00 10 */	beq lbl_8010E698
/* 8010E68C 0010A5AC  7D 88 03 A6 */	mtlr r12
/* 8010E690 0010A5B0  38 60 00 02 */	li r3, 2
/* 8010E694 0010A5B4  4E 80 00 21 */	blrl
lbl_8010E698:
/* 8010E698 0010A5B8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8010E69C 0010A5BC  38 21 00 08 */	addi r1, r1, 8
/* 8010E6A0 0010A5C0  7C 08 03 A6 */	mtlr r0
/* 8010E6A4 0010A5C4  4E 80 00 20 */	blr

.global AmcEXIEnableInterrupts
AmcEXIEnableInterrupts:
/* 8010E6A8 0010A5C8  7C 08 02 A6 */	mflr r0
/* 8010E6AC 0010A5CC  3C 60 00 01 */	lis r3, 0x00008000@ha
/* 8010E6B0 0010A5D0  90 01 00 04 */	stw r0, 4(r1)
/* 8010E6B4 0010A5D4  38 63 80 00 */	addi r3, r3, 0x00008000@l
/* 8010E6B8 0010A5D8  94 21 FF F8 */	stwu r1, -8(r1)
/* 8010E6BC 0010A5DC  4B FB 7D A1 */	bl __OSMaskInterrupts
/* 8010E6C0 0010A5E0  3C 60 80 11 */	lis r3, AmcDebugIntHandler@ha
/* 8010E6C4 0010A5E4  38 83 E6 58 */	addi r4, r3, AmcDebugIntHandler@l
/* 8010E6C8 0010A5E8  38 60 00 19 */	li r3, 0x19
/* 8010E6CC 0010A5EC  4B FB 7A 3D */	bl __OSSetInterruptHandler
/* 8010E6D0 0010A5F0  38 60 00 40 */	li r3, 0x40
/* 8010E6D4 0010A5F4  4B FB 7E 11 */	bl __OSUnmaskInterrupts
/* 8010E6D8 0010A5F8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8010E6DC 0010A5FC  38 21 00 08 */	addi r1, r1, 8
/* 8010E6E0 0010A600  7C 08 03 A6 */	mtlr r0
/* 8010E6E4 0010A604  4E 80 00 20 */	blr

.global AmcEXIInit
AmcEXIInit:
/* 8010E6E8 0010A608  7C 08 02 A6 */	mflr r0
/* 8010E6EC 0010A60C  3C 60 80 2F */	lis r3, lbl_802F01C8@ha
/* 8010E6F0 0010A610  90 01 00 04 */	stw r0, 4(r1)
/* 8010E6F4 0010A614  38 63 01 C8 */	addi r3, r3, lbl_802F01C8@l
/* 8010E6F8 0010A618  38 80 00 00 */	li r4, 0
/* 8010E6FC 0010A61C  94 21 FF F8 */	stwu r1, -8(r1)
/* 8010E700 0010A620  38 A0 00 18 */	li r5, 0x18
/* 8010E704 0010A624  4B EF 4C 1D */	bl memset
/* 8010E708 0010A628  3C 80 CC 00 */	lis r4, 0xCC006828@ha
/* 8010E70C 0010A62C  38 00 00 00 */	li r0, 0
/* 8010E710 0010A630  90 04 68 28 */	stw r0, 0xCC006828@l(r4)
/* 8010E714 0010A634  90 04 64 3C */	stw r0, 0x643c(r4)
/* 8010E718 0010A638  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8010E71C 0010A63C  38 21 00 08 */	addi r1, r1, 8
/* 8010E720 0010A640  7C 08 03 A6 */	mtlr r0
/* 8010E724 0010A644  4E 80 00 20 */	blr

.section .sdata

    .balign 8
.global exi
exi:
	# ROM: 0x1EC208
	.4byte lbl_802F01C8  ;# ptr
	.4byte 0

.section .bss

.global lbl_802F01C8
lbl_802F01C8:
	.skip 0x18
